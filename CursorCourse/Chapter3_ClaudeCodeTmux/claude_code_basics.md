# Claude Code 基礎

## 🎯 Claude Code とは

**Claude Code**は、Anthropic の Claude AI を活用したコーディングアシスタントです。自然言語による指示で、高品質なコードを生成・修正できます。

### Claude Code の特徴

1. **高品質なコード生成**: 最新のベストプラクティスに準拠
2. **コンテキスト理解**: プロジェクト全体を考慮した実装
3. **段階的実装**: 複雑な機能を段階的に構築
4. **エラーハンドリング**: 堅牢なエラー処理を自動生成
5. **ドキュメント生成**: コメントや README も同時作成

### Cursor との違い

| 特徴             | Cursor                   | Claude Code                  |
| ---------------- | ------------------------ | ---------------------------- |
| **得意分野**     | 対話的要件定義・レビュー | 集中的実装・プロトタイピング |
| **作業スタイル** | インタラクティブ         | バッチ処理的                 |
| **コード品質**   | 高品質・保守的           | 高品質・実験的               |
| **使用場面**     | 要件整理・コードレビュー | 機能実装・テスト作成         |

## 🚀 基本的な使い方

### アクセス方法

Claude Code は以下の方法でアクセスできます：

1. **Claude.ai Web インターフェース**
2. **API 経由**（開発者向け）
3. **VSCode 拡張機能**（サードパーティ）

### 基本的な対話パターン

```
1. 要求の明確化
2. 段階的実装
3. テスト・検証
4. 改善・最適化
```

## 💡 効果的なプロンプト技法

### 1. 具体的な要求指定

**❌ 悪い例:**

```
翻訳アプリを作って
```

**✅ 良い例:**

```
Next.js + TypeScript + shadcn/ui を使って、
日本語テキストを「フォーマル・カジュアル・普通」の3つのトーンで
英語に翻訳するWebアプリケーションを作成してください。

要件:
- OpenAI API / Claude API 対応
- エラーハンドリングとDemo機能
- レスポンシブ対応
- TypeScript での型安全な実装
```

### 2. 段階的な実装依頼

```
以下の段階で実装を進めてください：

Phase 1: プロジェクト基盤構築
- Next.js プロジェクト作成
- 必要な依存関係インストール
- 基本的なディレクトリ構成

Phase 2: コア機能実装
- LLMサービスクラス
- 翻訳プロンプト定義
- API Route 実装

Phase 3: UI実装
- メインコンポーネント
- shadcn/ui 統合
- レスポンシブ対応

Phase 4: 品質向上
- エラーハンドリング
- Demo機能
- テスト作成

各Phaseが完了したら、次のPhaseに進む前に確認をお願いします。
```

### 3. コンテキスト提供

```
プロジェクト情報:
- 技術スタック: Next.js 15, TypeScript, shadcn/ui, Tailwind CSS
- API: OpenAI GPT-4, Anthropic Claude
- 対象ユーザー: 個人利用者
- 実行環境: ローカル開発 → Vercel デプロイ

制約条件:
- APIキー未設定でもDemo機能で動作すること
- モバイル対応は不要
- ユーザー認証は不要
- データ永続化は不要（ローカルのみ）

品質要件:
- TypeScript型安全性の確保
- 適切なエラーハンドリング
- パフォーマンス考慮
- 保守しやすいコード構成
```

### 4. 期待する出力形式の指定

````
出力形式:
1. 実装コードをファイル単位で提示
2. 各ファイルの役割と重要なポイントを説明
3. インストールや設定が必要なコマンドを明記
4. 動作確認方法を含める
5. 想定される問題とその対処法

コードブロックは言語を指定：
```typescript
// TypeScriptコード
````

```bash
# ターミナルコマンド
```

````

## 🛠️ 実装品質の向上方法

### コード品質チェックポイント

#### 1. TypeScript 型安全性
```typescript
// ✅ 良い例: 明確な型定義
interface TranslationResult {
  formal: string;
  casual: string;
  normal: string;
}

// ❌ 悪い例: any 型の使用
const result: any = await translate(text);
````

#### 2. エラーハンドリング

```typescript
// ✅ 良い例: 段階的エラー処理
try {
  const result = await llmService.translate(text);
  return { success: true, data: result };
} catch (error) {
  if (error instanceof APIError) {
    return { success: false, error: "API呼び出しに失敗しました" };
  } else if (error instanceof NetworkError) {
    return { success: false, error: "ネットワークエラーが発生しました" };
  } else {
    return { success: false, error: "予期しないエラーが発生しました" };
  }
}
```

#### 3. パフォーマンス考慮

```typescript
// ✅ 良い例: 並列処理
const translations = await Promise.all([
  translateFormal(text),
  translateCasual(text),
  translateNormal(text),
]);

// ❌ 悪い例: 逐次処理
const formal = await translateFormal(text);
const casual = await translateCasual(text);
const normal = await translateNormal(text);
```

### Claude Code への品質指示

```
実装時の品質要件:
1. TypeScript厳格モードでの型安全性確保
2. 各関数にJSDocコメントを付与
3. エラーケースを全て考慮したハンドリング
4. パフォーマンスを考慮した非同期処理
5. テスタビリティを考慮した設計
6. 将来の拡張性を考慮したアーキテクチャ

コーディング規約:
- 関数名: キャメルケース
- 定数: UPPER_SNAKE_CASE
- ファイル名: kebab-case
- コンポーネント名: PascalCase
```

## 🔄 反復改善プロセス

### 1. 初回実装

```
最初の実装を依頼:
"翻訳アプリのプロトタイプを作成してください"
```

### 2. レビュー・改善

```
実装内容をレビューし、改善点を指摘:
"以下の点を改善してください：
1. Demo機能が不完全です
2. エラーメッセージが英語のみです
3. ローディング状態の表示が不自然です"
```

### 3. 機能追加

```
新機能の追加を依頼:
"以下の機能を追加してください：
1. 翻訳結果のコピー機能
2. 文字数制限の表示
3. 翻訳履歴の一時保存"
```

### 4. 最適化

```
パフォーマンス最適化を依頼:
"以下の観点で最適化してください：
1. API呼び出し回数の削減
2. UI の応答性向上
3. メモリリークの防止"
```

## 📊 Claude Code 活用パターン

### パターン 1: プロトタイピング

```
用途: アイデアの迅速な実装
特徴: 完璧より速度重視
適用場面: 概念検証、デモ作成
```

### パターン 2: 機能実装

```
用途: 具体的な機能の実装
特徴: 品質と保守性重視
適用場面: 本格的な開発、リファクタリング
```

### パターン 3: 問題解決

```
用途: 特定の技術的問題の解決
特徴: 原因分析と解決策提示
適用場面: デバッグ、パフォーマンス改善
```

### パターン 4: ドキュメント生成

```
用途: コードからドキュメント生成
特徴: 技術仕様書、API仕様書
適用場面: プロジェクト完了後、引き継ぎ
```

## 🎯 実践演習

### 演習 1: 基本的なプロンプト作成

**課題**: 簡単な Todo アプリを作成するプロンプトを書いてみましょう。

**ポイント**:

- 技術スタックを明確に指定
- 機能要件を具体的に記述
- 品質要件を含める

### 演習 2: 段階的実装指示

**課題**: 演習 1 の Todo アプリを段階的に実装する指示を作成しましょう。

**ポイント**:

- 論理的な実装順序
- 各段階の完了条件
- 次段階への移行条件

### 演習 3: 品質改善指示

**課題**: 実装されたコードに対する改善指示を作成しましょう。

**ポイント**:

- 具体的な問題点の指摘
- 改善後の期待状態
- 検証方法の提示

## 🛡️ 注意点とベストプラクティス

### やってはいけないこと

- ❌ 曖昧すぎる指示
- ❌ 一度に多すぎる要求
- ❌ コンテキストなしの質問
- ❌ 出力確認なしの次段階進行

### 推奨すること

- ✅ 明確で具体的な指示
- ✅ 段階的な実装進行
- ✅ 十分なコンテキスト提供
- ✅ 各段階での確認・検証

### セキュリティ考慮事項

```
機密情報の取り扱い:
- APIキーなどの秘密情報は共有しない
- 個人情報を含むデータは使用しない
- 本番環境の設定情報は別途管理
```

## 📚 参考リソース

- [Claude API Documentation](https://docs.anthropic.com/)
- [プロンプトエンジニアリングガイド](https://docs.anthropic.com/claude/docs/prompt-engineering)
- [Claude Best Practices](https://docs.anthropic.com/claude/docs/best-practices)

---

**🤖 Claude Code を効果的に活用して、高品質な実装を実現しましょう！**

次は [実践ワークフロー](workflow_practice.md) で、Cursor + Tmux + Claude Code の連携技法を学習します。

---

最終更新: 2025-01-28 18:55:00 JST
