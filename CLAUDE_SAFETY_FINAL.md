# ğŸ›¡ï¸ Claude Code å®‰å…¨ã‚·ã‚¹ãƒ†ãƒ  - æœ€çµ‚æ§‹æˆ

## ğŸ“‹ æ¦‚è¦

Claude Code ã®å®‰å…¨æ€§ã‚’ç¢ºä¿ã™ã‚‹ãŸã‚ã® 2 ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼š

1. **ã‚·ã‚§ãƒ«é–¢æ•°ã«ã‚ˆã‚‹è‡ªå‹•å¤‰æ›**ï¼ˆæ¨å¥¨ãƒ»å‹•ä½œç¢ºèªæ¸ˆã¿ï¼‰
2. **ãƒ•ãƒƒã‚¯æ©Ÿèƒ½**ï¼ˆç¾åœ¨å‹•ä½œã—ãªã„å¯èƒ½æ€§ã‚ã‚Šï¼‰

## âœ… å®Ÿè£…æ¸ˆã¿ã®æ§‹æˆ

### 1. ã‚·ã‚§ãƒ«é–¢æ•°ã«ã‚ˆã‚‹ rm â†’ gomi è‡ªå‹•å¤‰æ›

**ãƒ•ã‚¡ã‚¤ãƒ«**: `claude_safety_unified.sh`

```bash
# ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
./claude_safety_unified.sh

# æœ‰åŠ¹åŒ–
source ~/.zshrc
```

**å‹•ä½œ**:

- `rm -rf` â†’ è‡ªå‹•çš„ã« `gomi` ã«å¤‰æ›
- å‰Šé™¤ãƒ•ã‚¡ã‚¤ãƒ«ã¯å¾©å…ƒå¯èƒ½
- Claude Code ãŒå®Ÿè¡Œã—ã¦ã‚‚å®‰å…¨

### 2. ãƒ•ãƒƒã‚¯è¨­å®šï¼ˆå‚è€ƒï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ**:

```
.claude/
â”œâ”€â”€ settings.json          # ãƒ•ãƒƒã‚¯è¨­å®š
â””â”€â”€ hooks/
    â””â”€â”€ bash-safety-check.py  # å±é™ºã‚³ãƒãƒ³ãƒ‰æ¤œçŸ¥ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```

**settings.json**:

```json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "/path/to/.claude/hooks/bash-safety-check.py",
            "block_on_exit_codes": [2]
          }
        ]
      }
    ]
  }
}
```

## ğŸ”§ æ¨å¥¨è¨­å®š

1. **ã‚·ã‚§ãƒ«é–¢æ•°ã‚’ä½¿ç”¨**ï¼ˆç¢ºå®Ÿã«å‹•ä½œï¼‰

   ```bash
   ./claude_safety_unified.sh
   source ~/.zshrc
   ```

2. **ãƒ•ãƒƒã‚¯è¨­å®šã¯è£œåŠ©çš„ã«ç¶­æŒ**
   - å°†æ¥ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§å‹•ä½œã™ã‚‹å¯èƒ½æ€§
   - ç¾åœ¨ã¯å‹•ä½œã—ãªã„å ´åˆãŒå¤šã„

## ğŸ“ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

### å‰Šé™¤ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆé‡è¤‡ãƒ»ä¸è¦ï¼‰:

- `bash-validator.py`
- `bash-pre-execute.sh`
- `check-dangerous-command.sh`
- `hook-wrapper.sh`
- `simple-test.sh`
- `write-test.sh`

### ä¿æŒã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«:

- `claude_safety_unified.sh` - ãƒ¡ã‚¤ãƒ³ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- `.claude/hooks/bash-safety-check.py` - ãƒ•ãƒƒã‚¯ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- `.claude/settings.json` - ãƒ•ãƒƒã‚¯è¨­å®š

## ğŸš€ ä½¿ã„æ–¹

```bash
# å±é™ºãªã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã‚‚...
rm -rf important_directory

# å®Ÿéš›ã«ã¯ gomi ãŒå‹•ä½œ
ğŸ”„ rm -rf â†’ gomi (å¾©å…ƒå¯èƒ½ãªå‰Šé™¤)

# å¾©å…ƒå¯èƒ½
gomi restore
```

---

æœ€çµ‚æ›´æ–°: 2025-07-25 18:25:00 JST
