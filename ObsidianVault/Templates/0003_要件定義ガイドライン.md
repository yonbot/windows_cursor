---
description: 要件定義の実施時に実行してください（webinarセミナー用技術スタック選択機能統合版）
globs: ["**/*"]
triggers: ["dev-requirements！！！", "webinar-tech-stack！！！"]
---

このファイルを参照したら「要件定義、はっじめるよー！！！！！！！」といってください。

# Template ID: 0003 - 要件定義ガイドライン（webinar セミナー用統合版）

以下、要件定義時は絶対に守ってください。

- 指示される以外は、コア情報以外のスクリプトは不要です。提案しないでください。
- 勝手にスクリプトの変更を加えないでください。
- 「0. 技術スタック選択 → 1. 要件定義 → 2. 詳細設計 - 方針作成 → 3. レビュー＆ブラッシュアップ → 4. ドキュメントアウトプット」の順で、作業が実施されるよう、ガイドしてください。
- 各工程で、提案内容に問題がないかをかならずユーザーに確認を入れてから次に進むようにしてください。

---

## 🎯 0. 技術スタック選択（webinar セミナー用追加フェーズ）

### 💡 Cursor Prompt: TECH_STACK_SELECTION

※プロジェクトの要件に応じて、以下の 3 つから最適な技術スタックを選択

### 技術スタック選択フロー

#### 選択基準の確認

以下の 4 つの質問に基づいて技術スタックを選択：

1. **機能の複雑さ**

   - シンプルなツール → (1) 静的 HTML
   - AI や API 機能が中心 → (2) AI や API のみを使うアプリケーション
   - ログイン・認証・DB 機能 → (3) ログイン/認証/DB が必要なアプリ

2. **データ管理の必要性**

   - ローカルストレージで十分 → (1) 静的 HTML
   - 機械学習・API 連携データが必要 → (2) AI や API のみを使うアプリケーション
   - ユーザー・業務データが必要 → (3) ログイン/認証/DB が必要なアプリ

3. **認証・ユーザー管理の必要性**

   - 不要 → (1) 静的 HTML
   - 簡単な認証のみ → (2) AI や API のみを使うアプリケーション
   - 本格的なユーザー管理 → (3) ログイン/認証/DB が必要なアプリ

4. **UI/UX の重要度**
   - シンプルで十分 → (1) 静的 HTML
   - 機能重視、UI/UX にこだわらない → (2) AI や API のみを使うアプリケーション
   - 本格的な UI/UX が必要 → (3) ログイン/認証/DB が必要なアプリ

#### (1) 静的 HTML

**特定の機能に特化した Web ツール**

**推奨技術スタック:**

- フロントエンド: Vanilla JS + Vite
- バックエンド: なし (Client-side)
- データベース: localStorage / IndexedDB
- ホスティング: Netlify / Vercel
- 認証: 不要
- CSS: Tailwind CSS

**特徴評価:**

- 学習コスト: 低 🔰
- 開発速度: 高
- 拡張性: 中
- 運用コスト: 低

**適用例:** 画像変換ツール、計算機、ジェネレーター、API 検証ツール

#### (2) AI や API のみを使うアプリケーション

**web 画面にこだわりがない、機能重視のアプリケーション**

**推奨技術スタック:**

- フロントエンド: Streamlit (Python)
- バックエンド: FastAPI (Python)
- データベース: PostgreSQL + pgvector
- ホスティング: Render / Railway
- 認証: Streamlit Auth
- CSS: Streamlit 標準

**特徴評価:**

- 学習コスト: 低 ⚡
- 開発速度: 高
- 拡張性: 中
- 運用コスト: 中

**適用例:** チャットボット、画像生成ツール、文章校正ツール、翻訳ツール、データ分析ダッシュボード、API 統合ツール

#### (3) ログイン/認証/DB が必要なアプリ

**本格的な Web アプリケーション**

**推奨技術スタック:**

- フロントエンド: Next.js + TypeScript
- バックエンド: Next.js API Routes
- データベース: PostgreSQL (Supabase)
- ホスティング: Vercel
- 認証: Supabase Auth
- 決済: Stripe（必要に応じて）
- CSS: Tailwind CSS

**特徴評価:**

- 学習コスト: 高 🚀
- 開発速度: 中
- 拡張性: 高
- 運用コスト: 中

**適用例:** ユーザー管理システム、タスク管理アプリ、ブログ・CMS、社内管理システム、コミュニティサイト、SaaS アプリケーション

### 選択結果の提示

選択された技術スタックについて以下を提示：

- 選択理由
- 推奨技術スタック詳細
- 開発の進め方
- 注意点と制約
- 初心者向け学習パス

---

## 1. 要件定義

### 💡 Cursor Prompt: REQUIREMENT_GATHER_SINGLE

※コア情報以外のスクリプトは不要。表ではなく項目列挙で出力してください。

【入力データ】

- 要望 ID：{{ REQ-1234 }}
- タイトル：{{ 例: 管理画面に検索フィルタを追加 }}
- 概要：{{ 取引ステータスで絞り込みたい }}
- **選択された技術スタック：{{ 上記で選択されたスタック }}**

【タスク】

1. 選択された技術スタックに基づいてリポジトリを静的解析し、影響箇所を推定
   - 画面 / クラス・メソッド / DB テーブル
   - 技術スタック固有の考慮事項
2. **要件ジャッジ** を Markdown で出力
   - やるべきか？（Yes / No / 要検討）
   - 優先度（高 / 中 / 低）
   - 影響範囲メモ
   - 判断理由 or 追加ヒアリング事項
   - **技術スタック適合性評価**
3. 「要検討」の場合は **営業 / クライアント向けヒアリング依頼文** を生成

## 2. 詳細設計 - 方針作成

### 💡 Cursor Prompt: DETAIL_POLICY

※コア情報以外のスクリプトは省略。Markdown 見出し＋箇条書きで出力。

【タスク】

- **選択された技術スタックに基づく設計方針**
- 変更対象ファイル・関数
  - ファイルパス / 関数名 / 変更概要
- データ設計方針
  - 追加・変更・削除するテーブル/カラムと理由
  - 選択された技術スタックのデータ管理方式に準拠
- 画面設計方針（必要な場合のみ）
  - 技術スタック固有の UI/UX 制約を考慮
- API 設計方針（必要な場合のみ）
  - 技術スタックの API 設計パターンに準拠
- セキュリティ考慮事項
  - 技術スタック固有のセキュリティ要件
- パフォーマンス考慮事項
  - 技術スタック固有の最適化手法
- 判断材料不足時はヒアリング依頼文を末尾に追加

## 3. レビュー＆ブラッシュアップ

### 💡 Cursor Prompt: REVIEW_PACKET

※コア情報以外のスクリプトは不要。Markdown で簡潔に。

以下を最新版ドラフトに追加し、Markdown で提示してください。

- **技術スタック選択の妥当性確認**
- 処理フロー (mermaid)
- 開発工数見積（タスク別時間 & 合計人日）
  - 技術スタック固有の学習コストを考慮
- 安全にリリースするための段階的な機能アップデート方針
  - 技術スタック固有のデプロイ戦略
- テスト戦略（単体/結合/E2E）
  - 技術スタック固有のテスト手法
- リスク分析と対策
  - 技術スタック固有のリスク要因
- 未確定事項（要確認ラベル付き）

## 4. ドキュメントアウトプット

### 💡 Cursor Prompt: FINAL_DOC

※冗長なコード断片は省き、Markdown で統合。長すぎる場合は .md ファイルで出力。

- プロジェクトルール抜粋
- **選択された技術スタックの詳細**
- 要件ジャッジ結果
- 変更対象ファイル・関数リスト
- データ設計方針
- 画面設計方針
- API 設計方針
- 処理フロー (mermaid)
- 開発工数見積
- テスト戦略
- リスク分析と対策
- 未確定事項 & TODO
- **技術スタック固有の注意点**

## 品質チェックリスト

### 技術スタック選択

- [ ] プロジェクトの要件に適した技術スタックが選択されている
- [ ] 学習コストが開発チームのレベルに適している
- [ ] 選択理由が明確に文書化されている
- [ ] 他の選択肢との比較検討が行われている

### 機能要件

- [ ] ユーザーストーリーが明確に定義されている
- [ ] 受け入れ条件が具体的に記載されている
- [ ] エラーハンドリングが考慮されている
- [ ] 技術スタック固有の制約が反映されている

### 非機能要件

- [ ] パフォーマンス要件が定義されている
- [ ] セキュリティ要件が考慮されている
- [ ] 可用性・拡張性が検討されている
- [ ] 技術スタック固有の最適化手法が検討されている

### 技術要件

- [ ] 既存システムとの整合性が確認されている
- [ ] データ移行の必要性が検討されている
- [ ] 運用・保守の観点が含まれている
- [ ] 技術スタック固有のベストプラクティスが適用されている

## 🎓 webinar セミナー用学習支援

### 初心者向け安全チェック

- [ ] 危険な操作（ファイル削除、システム変更等）の有無を確認
- [ ] 初心者が誤解しやすい部分を特定
- [ ] 段階的実行が必要な箇所をマーク
- [ ] 選択された技術スタックの学習難易度を明示

### セミナー進行配慮

- [ ] 説明は初心者にも理解できる内容
- [ ] 実装は段階的に進める
- [ ] 質問時間を適切に設ける
- [ ] 技術スタック選択の透明性を確保

---

最終更新: 2025-07-16 02:21:26 JST
